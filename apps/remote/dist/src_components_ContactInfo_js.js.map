{"version":3,"file":"src_components_ContactInfo_js.js","mappings":"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","sources":["webpack://nextjs-host-react-remote_remote/./node_modules/@mui/icons-material/ContactPhone.js","webpack://nextjs-host-react-remote_remote/./src/components/ContactInfo.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M22 3H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zM8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1zm3.85-4h1.64L21 16l-1.99 1.99c-1.31-.98-2.28-2.38-2.73-3.99-.18-.64-.28-1.31-.28-2s.1-1.36.28-2c.45-1.62 1.42-3.01 2.73-3.99L21 8l-1.51 2h-1.64c-.22.63-.35 1.3-.35 2s.13 1.37.35 2z\"\n}), 'ContactPhone');\nexports.default = _default;","import { useState, useEffect } from \"react\";\nimport React from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport Email from \"@mui/icons-material/Email\";\nimport ContactPhone from \"@mui/icons-material/ContactPhone\";\nimport Button from \"@mui/material/Button\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport { useNavigate } from \"react-router-dom\";\nimport style from \"./styles/basic-info.module.css\";\nimport OtpInputBox from \"./common/OtpInput\";\nimport Divider from \"@mui/material/Divider\";\nimport CheckCircleRoundedIcon from \"@mui/icons-material/CheckCircleRounded\";\nimport FingerprintIcon from \"@mui/icons-material/Fingerprint\";\nimport { mobileCheck } from \"../utility/common\";\nimport { firebase, auth } from \"../firebase\";\n// import Claims from \"home/Claims\";\n// const PurposeDetail = React.lazy(() => import(\"home/PurposeDetail\"));\n\nexport default function ContactInfo({\n  contactData,\n  setContactData,\n  setPlan,\n  error,\n  validate,\n  setLoader,\n}) {\n  let [isEmailOtpActive, setEmailOtpActive] = useState(false);\n  let [isMobileOtpActive, setMobileOtpActive] = useState(false);\n  let [isAadharOtpActive, setAadharOtpActive] = useState(false);\n\n  let [isEmailVarified, setEmailVerified] = useState(false);\n  let [isMobileVarified, setMobileVerified] = useState(false);\n  let [isAadharVerified, setAadharVerified] = useState(false);\n\n  let [emailOtp, setEmailOtp] = useState(\"\");\n  let [mobileOtp, setMobileOtp] = useState(\"\");\n  let [aadharOtp, setAadharOtp] = useState(\"\");\n\n  const [payload, setPayload] = useState(null);\n\n  const [final, setfinal] = useState(null);\n\n  useEffect(() => {\n    if (emailOtp.length == 6) setEmailVerified(true);\n  }, [emailOtp]);\n\n  useEffect(() => {\n    gtag(\"event\", \"contact_info_init\");\n  }, []);\n\n  // useEffect(() => {\n  //   const mojoauth = new MojoAuth(\"test-70d678ab-4b55-4445-9b2e-040ba352a6ce\", {\n  //     source: [{ type: \"phone\", feature: \"otp\" }],\n  //   });\n  //   mojoauth.signIn().then((payload) => {\n  //     setPayload(payload);\n  //     document.getElementById(\"mojoauth-passwordless-form\").remove();\n  //   });\n  // }, []);\n\n  useEffect(() => {\n    if (final == \"\") {\n      let verify = new firebase.auth.RecaptchaVerifier(\"recaptcha-container\");\n      auth\n        .signInWithPhoneNumber(\"+91\" + contactData[\"mobile\"], verify)\n        .then((result) => {\n          setfinal(result);\n          setMobileOtpActive(true);\n        })\n        .catch((err) => {\n          alert(err);\n        });\n    }\n  }, [final]);\n\n  useEffect(() => {\n    if (mobileOtp.length == 6) {\n      final\n        .confirm(mobileOtp)\n        .then((result) => {\n          setMobileVerified(true);\n        })\n        .catch((err) => {\n          alert(\"Wrong code\");\n        });\n    }\n  }, [mobileOtp]);\n  useEffect(() => {\n    if (aadharOtp.length == 6) setAadharVerified(true);\n  }, [aadharOtp]);\n\n  let navigate = useNavigate();\n  async function next() {\n    if (validate(0, \"mobile\") && validate(0, \"pincode\")) {\n      console.log(contactData);\n\n      setLoader(true);\n\n      debugger;\n\n      const rawResponse = await fetch(\n        \"https://sahi-backend-dnhiaxv6nq-el.a.run.app/api/v1/sahi/quote/request\",\n        {\n          method: \"POST\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(contactData),\n        }\n      );\n      const content = await rawResponse.json();\n      setLoader(false);\n\n      setPlan([...content.quote]);\n      gtag(\"event\", \"contact_info_done\");\n\n      navigate(\"../plans\");\n    }\n  }\n  return (\n    <section class=\"chat-container\">\n      <span>\n        <div class=\"questions-container user_name\">\n          <div class=\" cGIqAI dmGYTj hTEcPe chat-question-inner user_name  text_single \">\n            <h3 class=\" fFoQAK\">Welcome! Start your insurance journey</h3>\n\n            <div className={style.basicDetailContainer}>\n              <div class=\"input-container  mt30 text\">\n                <TextField\n                  id=\"filled-basic\"\n                  fullWidth\n                  label=\"Mobile No.\"\n                  variant=\"outlined\"\n                  value={contactData[\"mobile\"]}\n                  onChange={(e) => {\n                    setMobileOtpActive(false);\n                    setMobileVerified(false);\n                    contactData[\"mobile\"] = e.target.value.slice(0, 10);\n                    setContactData({ ...contactData });\n                  }}\n                  onBlur={(e) => {\n                    validate(0, \"mobile\");\n                  }}\n                  error={error[\"mobile\"] != null}\n                  helperText={error[\"mobile\"]}\n                  spellCheck={false}\n                  type=\"number\"\n                  required\n                  inputProps={{\n                    maxlength: 13,\n                    autocomplete: \"off\",\n                  }}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <ContactPhone />{\" \"}\n                        <span className=\"prefix-code\">+91</span>\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </div>\n\n              <div class=\"input-container  mt30 text\">\n                <TextField\n                  id=\"filled-basic\"\n                  fullWidth\n                  label=\"Pin code\"\n                  variant=\"outlined\"\n                  value={contactData[\"pincode\"]}\n                  onChange={(e) => {\n                    setMobileOtpActive(false);\n                    setMobileVerified(false);\n                    contactData[\"pincode\"] = e.target.value.slice(0, 6);\n                    setContactData({ ...contactData });\n                  }}\n                  onBlur={(e) => {\n                    validate(0, \"pincode\");\n                  }}\n                  error={error[\"pincode\"] != null}\n                  helperText={error[\"pincode\"]}\n                  spellCheck={false}\n                  type=\"number\"\n                  required\n                  inputProps={{\n                    maxlength: 6,\n                    autocomplete: \"off\",\n                  }}\n                />\n              </div>\n              {final == \"\" && (\n                <div\n                  style={{ marginTop: \"30px\" }}\n                  id=\"recaptcha-container\"\n                ></div>\n              )}\n            </div>\n          </div>\n          <div class=\"submit-wrap align-center\">\n            <Button\n              variant=\"contained\"\n              onClick={next}\n              color=\"error\"\n              endIcon={<SendIcon />}\n            >\n              Next\n            </Button>\n          </div>\n        </div>\n      </span>\n    </section>\n  );\n}\n"],"names":["useState","useEffect","React","TextField","InputAdornment","Email","ContactPhone","Button","SendIcon","useNavigate","style","OtpInputBox","Divider","CheckCircleRoundedIcon","FingerprintIcon","mobileCheck","firebase","auth","ContactInfo","contactData","setContactData","setPlan","error","validate","setLoader","isEmailOtpActive","setEmailOtpActive","isMobileOtpActive","setMobileOtpActive","isAadharOtpActive","setAadharOtpActive","isEmailVarified","setEmailVerified","isMobileVarified","setMobileVerified","isAadharVerified","setAadharVerified","emailOtp","setEmailOtp","mobileOtp","setMobileOtp","aadharOtp","setAadharOtp","payload","setPayload","final","setfinal","length","gtag","verify","RecaptchaVerifier","signInWithPhoneNumber","then","result","catch","err","alert","confirm","navigate","next","console","log","rawResponse","fetch","method","headers","Accept","body","JSON","stringify","content","json","quote","createElement","class","className","basicDetailContainer","id","fullWidth","label","variant","value","onChange","e","target","slice","onBlur","helperText","spellCheck","type","required","inputProps","maxlength","autocomplete","InputProps","startAdornment","position","marginTop","onClick","color","endIcon"],"sourceRoot":""}